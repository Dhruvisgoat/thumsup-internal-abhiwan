import React, { Suspense, useState, useEffect, useContext, useRef } from 'react';
import { Canvas } from '@react-three/fiber';
import { Physics, Debug, RigidBody, TrimeshCollider } from '@react-three/rapier';
import { KeyboardControls, CameraControls, OrbitControls, Sky, Billboard, Preload, AdaptiveDpr } from '@react-three/drei';
import { Bloom, DepthOfField, EffectComposer, Noise, Vignette } from '@react-three/postprocessing'
import { Player } from '../Player';
import { useGLTF } from "@react-three/drei";
import { Perf } from 'r3f-perf';
import { CuboidCollider } from '@react-three/rapier';
import { MyProvider } from '../RefContext/Context';
import PlayerCoordinates from '../PlayerCoordinates';
import CocaCola from '../Collectibles/CocaCola';
import { AxesHelper } from 'three'; // Import the AxesHelper       
import { OrthographicCamera } from '@react-three/drei';
import PlayerCharacter from '../PlayerCharacter';
import MobileUi from '../MobileUi/MobileUi';
import PlayerRaycast from '../PlayerRayCast';
import { isBrowser, isMobile } from 'react-device-detect';
import { Environment } from '@react-three/drei';
import '../App.css'
import Enemy from '../Enemy';
import { DirectionProvider } from '../RefContext/DirectionContext';
import { MyContext } from '../RefContext/Context';
import AppUi from '../AppUi/AppUi';
import Hurdles from '../Hurdles';
import DieSprite from '../Sprites/DieSprite';
import Combo from '../Collectibles/Combo';
import DrinkCombo from '../Collectibles/DrinkCombo';
import Biryanii from '../Collectibles/Biraynii';
import CollectiblesRenderer from '../CollectiblesRenderer';
import { CollectiblesProvider } from '../RefContext/CollectiblesContext';
import PowerUp from '../PowerUp';
import CameraController from '../CameraController';
import ControlAudio from '../ControlAudio';
import GameAudio from '../GameAudio';
import MiniMap from '../AppUi/MiniMap/MiniMap';
// import Level3 from './Scenes/Level 3';
// import FireVFX from './vfxs/FireVfx';
import { BudhaEnemy } from '../GameAssets/Enemies/BudhaEnemy';
import { CartoonEnemy } from '../GameAssets/Enemies/CartoonEnemy';
import { Bike } from '../GameAssets/Bike';
import { Car } from '../GameAssets/Car';
import Map from '../Scenes/Map';
import { ViewContext, ViewProvider } from '../RefContext/ViewContext';
// import FireVFX from '../vfxs/FireVFX';
import PlayerRerender from '../PlayerRerender';
import Map2 from '../Scenes/Map2';
import { Caps } from '../GameAssets/Cap';
import ButtonMobileUi from '../MobileUi/ButtonMobileUi';
import AppProviders from '../RefContext/AppProviders';
import NavmeshEnemy from '../NavmeshEnemy';
import NavmeshEnemy2 from '../NavmeshEnemy2';
import { CollectiblesContext } from '../RefContext/CollectiblesContext';
import { PauseContext } from '../RefContext/PauseContext';
import GameOver from '../GameOver';
import CollectibleSpriteWrapper from '../Sprites/CollectibleSprite';
import HomeGamePage from '../pages/HomePage/HomeGamePage';
import HGPageBeforeStartButton from '../pages/HomePage/HGPageBeforeStartButton';

function Canvass() {
  const { isIsometric } = useContext(ViewContext);
  const { pause } = useContext(PauseContext);
  const { setBiryaniPositions, setBottlePositions, setComboPositions, setDrinkComboPositions, setCapsPositions, setConstantCapsPositions } = useContext(CollectiblesContext);

  const capsPositions = [
    { id: 0, position: [0, -1, 74] },
    { id: 1, position: [37.73828891192602, -1.000000000000009, 142.14967622193163] },
    { id: 2, position: [33.98355190382547, -1.000000000000009, 138.39493921383107] },
    { id: 3, position: [30.22881489572489, -1.000000000000009, 134.6402022057305] },
    { id: 4, position: [26.474077887624336, -1.0000000000000089, 130.88546519762994] },
    { id: 5, position: [22.719340879523763, -1.0000000000000089, 127.13072818952938] },
    { id: 6, position: [-14.828029201481911, -1.0000000000000089, 89.5833581085237] },
    { id: 7, position: [-18.582766209582477, -1.000000000000009, 85.82862110042313] },
    { id: 8, position: [-22.337503217683043, -1.0000000000000089, 82.07388409232256] },
    { id: 9, position: [-29.84697723388418, -1.000000000000009, 74.56441007612142] },
    { id: 10, position: [-52.37539928248757, -1.000000000000009, 52.03598802751802] },
    { id: 11, position: [-56.13013629058814, -1.000000000000009, 48.281251019417454] },
    // {id: 12, position: [-59.88487329868871,-1.000000000000009,44.526514011316884]},
    { id: 13, position: [-63.63961030678927, -1.000000000000009, 40.77177700321632] },
    { id: 14, position: [-67.39434731488984, -1.0000000000000089, 37.01703999511575] },
    { id: 15, position: [-89.92276936349325, -1.000000000000009, 14.488617946512342] },
    { id: 16, position: [-93.67750637159382, -1.000000000000009, 10.733880938411783] },
    { id: 17, position: [-97.43224337969437, -1.000000000000009, 6.97914393031121] },
    { id: 18, position: [-101.18698038779493, -1.0000000000000089, 3.2244069222106546] },
    { id: 19, position: [-104.9417173958955, -1.0000000000000089, -0.530330085889922] },
    { id: 20, position: [-108.69645440399609, -1.0000000000000089, -4.2850670939904845] },
    { id: 21, position: [-112.45119141209663, -1.0000000000000089, -8.039804102091047] },
    { id: 22, position: [-116.20592842019722, -1.000000000000009, -11.794541110191624] },
    { id: 23, position: [-119.96066542829777, -1.000000000000009, -15.5492781182922] },
    { id: 24, position: [-123.71540243639835, -1.000000000000009, -19.304015126392763] },
    { id: 25, position: [-127.4701394444989, -1.000000000000009, -23.058752134493325] },
    { id: 26, position: [-131.2248764525995, -1.000000000000009, -26.8134891425939] },
    { id: 27, position: [-134.97961346070005, -1.0000000000000089, -30.568226150694457] },
    { id: 28, position: [-138.73435046880064, -1.000000000000009, -34.322963158795034] },
    { id: 29, position: [-142.4890874769012, -1.000000000000009, -38.0777001668956] },
    { id: 30, position: [41.4930259200266, -1.0000000000000084, 138.3949392138311] },
    { id: 31, position: [26.474077887624336, -1.0000000000000084, 123.3759911814288] },
    { id: 32, position: [-11.07329219338133, -1.0000000000000082, 85.82862110042312] },
    { id: 33, position: [-26.092240225783605, -1.0000000000000084, 70.80967306802086] },
    { id: 34, position: [-48.620662274387, -1.0000000000000084, 48.281251019417454] },
    { id: 35, position: [-63.63961030678927, -1.0000000000000084, 33.26230298701519] },
    { id: 36, position: [-86.16803235539268, -1.0000000000000084, 10.733880938411776] },
    { id: 37, position: [-116.20592842019721, -1.0000000000000084, -19.304015126392763] },
    { id: 38, position: [-138.7343504688006, -1.0000000000000082, -41.832437174996166] },
    { id: 39, position: [45.24776292812715, -1.0000000000000075, 134.6402022057305] },
    { id: 40, position: [30.228814895724902, -1.0000000000000075, 119.62125417332824] },
    { id: 41, position: [-7.318555185280772, -1.0000000000000078, 82.07388409232256] },
    { id: 42, position: [-22.337503217683047, -1.0000000000000078, 67.0549360599203] },
    { id: 43, position: [-44.86592526628644, -1.0000000000000078, 44.52651401131689] },
    { id: 44, position: [-59.88487329868871, -1.0000000000000075, 29.50756597891462] },
    { id: 45, position: [-82.4132953472921, -1.0000000000000075, 6.979143930311217] },
    { id: 46, position: [-112.45119141209665, -1.0000000000000078, -23.058752134493332] },
    { id: 47, position: [-134.97961346070005, -1.0000000000000078, -45.58717418309673] },
    { id: 48, position: [49.00249993622772, -1.000000000000007, 130.88546519762997] },
    { id: 49, position: [33.98355190382547, -1.000000000000007, 115.86651716522769] },
    { id: 50, position: [-3.563818177180206, -1.000000000000007, 78.319147084222] },
    { id: 51, position: [-18.582766209582477, -1.000000000000007, 63.30019905181973] },
    { id: 52, position: [-41.11118825818588, -1.000000000000007, 40.77177700321633] },
    { id: 53, position: [-56.13013629058815, -1.000000000000007, 25.752828970814058] },
    { id: 54, position: [-78.65855833919156, -1.000000000000007, 3.2244069222106546] },
    { id: 55, position: [-108.69645440399609, -1.000000000000007, -26.813489142593895] },
    { id: 56, position: [-131.2248764525995, -1.000000000000007, -49.34191119119729] },
    { id: 57, position: [52.757236944328284, -1.0000000000000064, 127.13072818952936] },
    { id: 58, position: [45.24776292812716, -1.0000000000000064, 119.62125417332824] },
    { id: 59, position: [41.4930259200266, -1.0000000000000062, 115.86651716522768] },
    { id: 60, position: [37.738288911926034, -1.0000000000000062, 112.11178015712711] },
    { id: 61, position: [33.98355190382545, -1.0000000000000062, 108.35704314902652] },
    { id: 62, position: [30.228814895724895, -1.0000000000000062, 104.60230614092598] },
    { id: 63, position: [26.474077887624325, -1.0000000000000062, 100.8475691328254] },
    { id: 64, position: [22.719340879523763, -1.0000000000000064, 97.09283212472484] },
    { id: 65, position: [18.964603871423186, -1.0000000000000064, 93.33809511662426] },
    { id: 66, position: [15.20986686332262, -1.0000000000000064, 89.5833581085237] },
    { id: 67, position: [11.455129855222047, -1.0000000000000064, 85.82862110042312] },
    { id: 68, position: [7.7003928471214955, -1.0000000000000064, 82.07388409232257] },
    { id: 69, position: [3.945655839020926, -1.0000000000000064, 78.319147084222] },
    { id: 70, position: [-14.828029201481915, -1.0000000000000064, 59.545462043719155] },
    { id: 71, position: [-18.582766209582477, -1.0000000000000064, 55.7907250356186] },
    { id: 72, position: [-22.33750321768304, -1.0000000000000064, 52.03598802751803] },
    { id: 73, position: [-26.092240225783613, -1.0000000000000064, 48.28125101941747] },
    { id: 74, position: [-29.846977233884175, -1.0000000000000064, 44.52651401131689] },
    { id: 75, position: [-33.60171424198474, -1.0000000000000064, 40.77177700321633] },
    { id: 76, position: [-37.35645125008531, -1.0000000000000064, 37.01703999511576] },
    { id: 77, position: [-52.37539928248757, -1.0000000000000062, 21.99809196271349] },
    { id: 78, position: [-56.13013629058814, -1.0000000000000062, 18.243354954612922] },
    { id: 79, position: [-59.8848732986887, -1.0000000000000062, 14.488617946512358] },
    { id: 80, position: [-63.63961030678928, -1.0000000000000064, 10.73388093841178] },
    { id: 81, position: [-67.39434731488984, -1.0000000000000064, 6.979143930311217] },
    { id: 82, position: [-71.1490843229904, -1.0000000000000064, 3.2244069222106475] },
    { id: 83, position: [-74.90382133109098, -1.0000000000000064, -0.530330085889922] },
    { id: 84, position: [-104.94171739589552, -1.0000000000000064, -30.568226150694457] },
    { id: 85, position: [-108.69645440399607, -1.0000000000000064, -34.32296315879503] },
    { id: 86, position: [-112.45119141209665, -1.0000000000000064, -38.07770016689559] },
    { id: 87, position: [-116.20592842019721, -1.0000000000000064, -41.832437174996166] },
    { id: 88, position: [-123.71540243639835, -1.0000000000000064, -49.34191119119731] },
    { id: 89, position: [-127.47013944449893, -1.0000000000000064, -53.09664819929785] },
    { id: 90, position: [56.51197395242886, -1.0000000000000058, 123.37599118142882] },
    { id: 91, position: [3.9456558390209295, -1.0000000000000058, 70.80967306802087] },
    { id: 92, position: [-11.073292193381345, -1.0000000000000058, 55.79072503561859] },
    { id: 93, position: [-33.60171424198474, -1.0000000000000058, 33.26230298701519] },
    { id: 94, position: [-48.62066227438701, -1.0000000000000058, 18.243354954612922] },
    { id: 95, position: [-71.14908432299042, -1.0000000000000058, -4.2850670939904845] },
    { id: 96, position: [-101.18698038779495, -1.0000000000000058, -34.32296315879503] },
    { id: 97, position: [-123.71540243639834, -1.0000000000000058, -56.85138520739844] },
    { id: 98, position: [60.26671096052942, -1.0000000000000049, 119.62125417332824] },
    { id: 99, position: [45.24776292812717, -1.000000000000005, 104.60230614092598] },
    { id: 100, position: [7.700392847121499, -1.000000000000005, 67.0549360599203] },
    { id: 101, position: [-7.3185551852807755, -1.000000000000005, 52.03598802751803] },
    { id: 102, position: [-29.846977233884175, -1.0000000000000049, 29.507565978914624] },
    { id: 103, position: [-44.86592526628644, -1.0000000000000049, 14.488617946512354] },
    { id: 104, position: [-67.39434731488984, -1.000000000000005, -8.039804102091061] },
    { id: 105, position: [-82.4132953472921, -1.000000000000005, -23.05875213449332] },
    { id: 106, position: [-86.16803235539268, -1.000000000000005, -26.813489142593884] },
    { id: 107, position: [-93.67750637159381, -1.000000000000005, -34.32296315879502] },
    { id: 108, position: [-97.43224337969437, -1.000000000000005, -38.077700166895596] },
    { id: 109, position: [-119.96066542829777, -1.0000000000000049, -60.606122215499] },
    { id: 110, position: [64.02144796862999, -1.0000000000000044, 115.86651716522769] },
    { id: 111, position: [49.00249993622773, -1.0000000000000044, 100.84756913282541] },
    // {id: 112, position: [11.455129855222062,-1.0000000000000044,63.30019905181973]},
    { id: 113, position: [-3.5638181771802095, -1.0000000000000044, 48.281251019417454] },
    { id: 114, position: [-26.092240225783605, -1.0000000000000044, 25.752828970814058] },
    { id: 115, position: [-41.11118825818588, -1.0000000000000044, 10.73388093841179] },
    { id: 116, position: [-63.63961030678928, -1.0000000000000044, -11.794541110191627] },
    { id: 117, position: [-78.65855833919154, -1.0000000000000044, -26.813489142593884] },
    { id: 118, position: [-93.67750637159382, -1.0000000000000044, -41.832437174996166] },
    { id: 119, position: [-116.20592842019722, -1.0000000000000044, -64.36085922359956] },
    { id: 120, position: [67.77618497673056, -1.0000000000000038, 112.1117801571271] },
    { id: 121, position: [64.02144796863001, -1.0000000000000038, 108.35704314902655] },
    { id: 122, position: [60.26671096052944, -1.0000000000000038, 104.60230614092598] },
    { id: 123, position: [56.511973952428875, -1.0000000000000038, 100.8475691328254] },
    { id: 124, position: [52.75723694432831, -1.0000000000000038, 97.09283212472485] },
    // {id: 125, position: [30.2288148957249,-1.0000000000000038,74.56441007612142]},
    { id: 126, position: [26.474077887624325, -1.0000000000000038, 70.80967306802086] },
    { id: 127, position: [18.9646038714232, -1.0000000000000038, 63.300199051819725] },
    { id: 128, position: [15.209866863322635, -1.0000000000000038, 59.54546204371916] },
    { id: 129, position: [11.455129855222063, -1.0000000000000038, 55.790725035618586] },
    { id: 130, position: [7.700392847121501, -1.0000000000000038, 52.03598802751803] },
    { id: 131, position: [3.9456558390209313, -1.0000000000000038, 48.28125101941746] },
    { id: 132, position: [0.1909188309203636, -1.0000000000000038, 44.52651401131689] },
    { id: 133, position: [-3.5638181771802007, -1.0000000000000038, 40.77177700321633] },
    { id: 134, position: [-7.318555185280767, -1.0000000000000036, 37.01703999511575] },
    { id: 135, position: [-11.073292193381333, -1.0000000000000038, 33.26230298701519] },
    { id: 136, position: [-14.828029201481897, -1.0000000000000038, 29.507565978914627] },
    { id: 137, position: [-18.582766209582466, -1.0000000000000038, 25.752828970814058] },
    { id: 138, position: [-22.337503217683032, -1.0000000000000038, 21.998091962713488] },
    { id: 139, position: [-26.0922402257836, -1.0000000000000038, 18.24335495461292] },
    { id: 140, position: [-29.846977233884168, -1.0000000000000038, 14.488617946512354] },
    { id: 141, position: [-33.60171424198474, -1.0000000000000038, 10.733880938411787] },
    { id: 142, position: [-37.3564512500853, -1.0000000000000036, 6.979143930311217] },
    { id: 143, position: [-41.11118825818586, -1.0000000000000038, 3.224406922210651] },
    { id: 144, position: [-44.865925266286425, -1.0000000000000038, -0.5303300858899078] },
    { id: 145, position: [-59.884873298688696, -1.0000000000000038, -15.549278118292193] },
    { id: 146, position: [-63.63961030678928, -1.0000000000000038, -19.30401512639276] },
    { id: 147, position: [-67.39434731488983, -1.0000000000000038, -23.05875213449333] },
    { id: 148, position: [-71.1490843229904, -1.0000000000000038, -26.813489142593887] },
    { id: 149, position: [-74.90382133109097, -1.0000000000000038, -30.56822615069446] },
    { id: 150, position: [-89.92276936349325, -1.0000000000000038, -45.587174183096735] },
    { id: 151, position: [-93.67750637159381, -1.0000000000000038, -49.34191119119729] },
    { id: 152, position: [-97.43224337969437, -1.0000000000000038, -53.09664819929785] },
    { id: 153, position: [-101.18698038779493, -1.0000000000000038, -56.85138520739844] },
    { id: 154, position: [-104.94171739589552, -1.0000000000000038, -60.606122215499] },
    { id: 155, position: [-108.69645440399607, -1.0000000000000038, -64.36085922359958] },
    { id: 156, position: [-112.45119141209665, -1.0000000000000038, -68.11559623170012] },
    { id: 157, position: [71.53092198483112, -1.000000000000003, 108.35704314902652] },
    { id: 158, position: [56.511973952428875, -1.0000000000000029, 93.33809511662427] },
    { id: 159, position: [33.983551903825465, -1.000000000000003, 70.80967306802086] },
    { id: 160, position: [11.455129855222069, -1.000000000000003, 48.28125101941746] },
    { id: 161, position: [-11.07329219338133, -1.000000000000003, 25.752828970814058] },
    { id: 162, position: [-26.092240225783602, -1.000000000000003, 10.733880938411788] },
    { id: 163, position: [-41.11118825818587, -1.000000000000003, -4.285067093990474] },
    { id: 164, position: [-56.13013629058814, -1.000000000000003, -19.304015126392756] },
    { id: 165, position: [-71.1490843229904, -1.000000000000003, -34.32296315879502] },
    { id: 166, position: [-86.16803235539267, -1.000000000000003, -49.3419111911973] },
    // {id: 167, position: [-108.69645440399609,-1.000000000000003,-71.87033323980069]},
    { id: 168, position: [75.28565899293169, -1.0000000000000024, 104.60230614092596] },
    { id: 169, position: [60.26671096052944, -1.0000000000000024, 89.58335810852371] },
    { id: 170, position: [56.51197395242886, -1.0000000000000024, 85.82862110042313] },
    { id: 171, position: [52.757236944328305, -1.0000000000000024, 82.07388409232257] },
    { id: 172, position: [49.002499936227736, -1.0000000000000024, 78.319147084222] },
    { id: 173, position: [45.24776292812717, -1.0000000000000024, 74.56441007612143] },
    { id: 174, position: [41.4930259200266, -1.0000000000000024, 70.80967306802086] },
    { id: 175, position: [37.738288911926034, -1.0000000000000024, 67.0549360599203] },
    { id: 176, position: [15.209866863322633, -1.0000000000000024, 44.52651401131689] },
    { id: 177, position: [-7.318555185280767, -1.0000000000000024, 21.998091962713495] },
    { id: 178, position: [-22.337503217683036, -1.0000000000000024, 6.979143930311222] },
    { id: 179, position: [-37.3564512500853, -1.0000000000000024, -8.039804102091043] },
    { id: 180, position: [-41.11118825818588, -1.0000000000000024, -11.79454111019162] },
    { id: 181, position: [-44.86592526628644, -1.0000000000000024, -15.549278118292184] },
    { id: 182, position: [-48.62066227438701, -1.0000000000000024, -19.304015126392756] },
    { id: 183, position: [-52.37539928248757, -1.0000000000000024, -23.058752134493318] },
    { id: 184, position: [-67.39434731488984, -1.0000000000000024, -38.07770016689558] },
    { id: 185, position: [-82.4132953472921, -1.0000000000000024, -53.09664819929786] },
    { id: 186, position: [-104.94171739589552, -1.0000000000000024, -75.62507024790125] },
    { id: 187, position: [79.04039600103226, -1.0000000000000018, 100.8475691328254] },
    { id: 188, position: [64.02144796863001, -1.0000000000000018, 85.82862110042313] },
    { id: 189, position: [41.4930259200266, -1.000000000000002, 63.30019905181973] },
    { id: 190, position: [18.964603871423204, -1.000000000000002, 40.77177700321633] },
    { id: 191, position: [-3.5638181771801998, -1.0000000000000018, 18.243354954612922] },
    { id: 192, position: [-18.582766209582466, -1.000000000000002, 3.2244069222106546] },
    { id: 193, position: [-41.11118825818587, -1.0000000000000018, -19.304015126392756] },
    { id: 194, position: [-63.639610306789265, -1.000000000000002, -41.83243717499616] },
    { id: 195, position: [-78.65855833919153, -1.000000000000002, -56.85138520739843] },
    { id: 196, position: [-101.18698038779495, -1.0000000000000018, -79.37980725600183] },
    { id: 197, position: [67.77618497673058, -1.000000000000001, 82.07388409232257] },
    { id: 198, position: [45.247762928127166, -1.000000000000001, 59.54546204371917] },
    { id: 199, position: [22.71934087952377, -1.0000000000000013, 37.01703999511576] },
    { id: 200, position: [0.19091883092036716, -1.000000000000001, 14.488617946512356] },
    { id: 201, position: [-14.828029201481899, -1.0000000000000013, -0.5303300858899123] },
    { id: 202, position: [-37.3564512500853, -1.000000000000001, -23.058752134493318] },
    { id: 203, position: [-59.8848732986887, -1.000000000000001, -45.58717418309672] },
    { id: 204, position: [-74.90382133109097, -1.0000000000000013, -60.606122215499] },
    { id: 205, position: [-78.65855833919153, -1.0000000000000013, -64.36085922359956] },
    { id: 206, position: [-82.41329534729209, -1.0000000000000013, -68.11559623170012] },
    { id: 207, position: [-86.16803235539267, -1.000000000000001, -71.87033323980069] },
    { id: 208, position: [-89.92276936349325, -1.0000000000000013, -75.62507024790126] },
    { id: 209, position: [-93.67750637159381, -1.0000000000000013, -79.37980725600184] },
    { id: 210, position: [-97.43224337969437, -1.0000000000000013, -83.13454426410239] },
    { id: 211, position: [86.54987001723339, -1.0000000000000004, 93.33809511662426] },
    { id: 212, position: [71.53092198483114, -1.0000000000000004, 78.31914708422201] },
    { id: 213, position: [49.00249993622773, -1.0000000000000007, 55.79072503561861] },
    { id: 214, position: [26.474077887624336, -1.0000000000000004, 33.2623029870152] },
    { id: 215, position: [3.9456558390209326, -1.0000000000000004, 10.73388093841179] },
    { id: 216, position: [-11.07329219338133, -1.0000000000000004, -4.2850670939904765] },
    { id: 217, position: [-33.60171424198474, -1.0000000000000007, -26.81348914259388] },
    // {id: 218, position: [-56.13013629058814,-1.0000000000000004,-49.34191119119728]},
    { id: 219, position: [-71.1490843229904, -1.0000000000000004, -64.36085922359956] },
    { id: 220, position: [-86.16803235539267, -1.0000000000000004, -79.37980725600183] },
    { id: 221, position: [90.30460702533395, -1, 89.5833581085237] },
    { id: 222, position: [75.2856589929317, -0.9999999999999999, 74.56441007612145] },
    { id: 223, position: [60.26671096052944, -1, 59.54546204371917] },
    { id: 224, position: [56.51197395242887, -1, 55.79072503561859] },
    { id: 225, position: [52.7572369443283, -1, 52.03598802751803] },
    { id: 226, position: [49.002499936227736, -1, 48.28125101941746] },
    { id: 227, position: [45.24776292812717, -0.9999999999999999, 44.5265140113169] },
    { id: 228, position: [41.49302592002661, -0.9999999999999999, 40.77177700321633] },
    { id: 229, position: [37.738288911926034, -0.9999999999999999, 37.01703999511576] },
    { id: 230, position: [33.98355190382547, -0.9999999999999999, 33.26230298701519] },
    { id: 231, position: [30.228814895724906, -0.9999999999999999, 29.507565978914627] },
    { id: 232, position: [26.474077887624336, -0.9999999999999999, 25.75282897081406] },
    { id: 233, position: [22.719340879523767, -0.9999999999999999, 21.99809196271349] },
    { id: 234, position: [18.9646038714232, -1, 18.243354954612926] },
    { id: 235, position: [15.209866863322635, -0.9999999999999999, 14.488617946512358] },
    { id: 236, position: [11.455129855222069, -0.9999999999999999, 10.733880938411794] },
    { id: 237, position: [7.700392847121502, -0.9999999999999999, 6.979143930311224] },
    { id: 238, position: [-7.318555185280765, -1, -8.039804102091045] },
    { id: 239, position: [-11.07329219338133, -1, -11.794541110191613] },
    { id: 240, position: [-14.8280292014819, -0.9999999999999998, -15.549278118292182] },
    { id: 241, position: [-18.582766209582466, -0.9999999999999998, -19.30401512639275] },
    { id: 242, position: [-22.33750321768303, -1, -23.05875213449331] },
    { id: 243, position: [-26.092240225783605, -1, -26.813489142593887] },
    { id: 244, position: [-33.60171424198474, -1, -34.32296315879502] },
    { id: 245, position: [-37.3564512500853, -1, -38.07770016689559] },
    { id: 246, position: [-41.11118825818588, -1, -41.83243717499616] },
    { id: 247, position: [-44.86592526628644, -1, -45.58717418309672] },
    { id: 248, position: [-48.620662274386994, -0.9999999999999999, -49.34191119119728] },
    { id: 249, position: [-52.375399282487564, -0.9999999999999999, -53.09664819929785] },
    { id: 250, position: [-56.13013629058813, -0.9999999999999999, -56.85138520739841] },

    { id: 251, position: [-59.88487329868869, -0.9999999999999999, -60.60612221549898] },
    { id: 252, position: [-63.639610306789265, -0.9999999999999999, -64.36085922359956] },
    { id: 253, position: [-67.39434731488984, -1, -68.11559623170012] },
    { id: 254, position: [-82.41329534729209, -0.9999999999999999, -83.13454426410239] },
    // { id: 255, position: [-86.16803235539267, -0.9999999999999999, -86.88928127220296] },
    // { id: 256, position: [-89.92276936349325, -0.9999999999999999, -90.64401828030353] },
    { id: 257, position: [94.05934403343454, -0.9999999999999992, 85.82862110042313] },

    { id: 258, position: [79.04039600103229, -0.9999999999999992, 70.80967306802089] },
    { id: 259, position: [64.02144796863001, -0.9999999999999992, 55.79072503561861] },
    { id: 260, position: [49.002499936227736, -0.9999999999999991, 40.771777003216336] },
    { id: 261, position: [11.455129855222069, -0.9999999999999992, 3.2244069222106577] },
    { id: 262, position: [-3.5638181771801976, -0.9999999999999992, -11.794541110191611] },
    // {id: 263, position: [-33.60171424198474,-0.9999999999999992,-41.83243717499616]},
    { id: 264, position: [-48.620662274387, -0.9999999999999991, -56.85138520739842] },
    { id: 265, position: [-78.65855833919153, -0.9999999999999992, -86.88928127220295] },
    { id: 266, position: [97.81408104153509, -0.9999999999999986, 82.07388409232256] },
    { id: 267, position: [90.30460702533398, -0.9999999999999987, 74.56441007612145] },
    { id: 268, position: [86.5498700172334, -0.9999999999999986, 70.80967306802087] },
    { id: 269, position: [82.79513300913284, -0.9999999999999986, 67.05493605992031] },
    { id: 270, position: [79.04039600103226, -0.9999999999999986, 63.30019905181973] },
    { id: 271, position: [75.2856589929317, -0.9999999999999986, 59.54546204371917] },
    { id: 272, position: [71.53092198483114, -0.9999999999999986, 55.79072503561859] },
    { id: 273, position: [67.77618497673058, -0.9999999999999986, 52.035988027518044] },
    { id: 274, position: [52.75723694432831, -0.9999999999999984, 37.017039995115766] },
    { id: 275, position: [15.209866863322635, -0.9999999999999984, -0.5303300858899087] },
    { id: 276, position: [11.455129855222069, -0.9999999999999984, -4.285067093990476] },
    { id: 277, position: [7.700392847121503, -0.9999999999999986, -8.039804102091043] },
    { id: 278, position: [3.9456558390209344, -0.9999999999999987, -11.794541110191611] },
    { id: 279, position: [0.19091883092036982, -0.9999999999999987, -15.549278118292177] },
    { id: 280, position: [-29.846977233884168, -0.9999999999999986, -45.58717418309672] },
    { id: 281, position: [-44.86592526628643, -0.9999999999999986, -60.60612221549899] },
    { id: 282, position: [-59.8848732986887, -0.9999999999999986, -75.62507024790126] },
    { id: 283, position: [-63.639610306789265, -0.9999999999999986, -79.37980725600181] },
    { id: 284, position: [-67.39434731488984, -0.9999999999999986, -83.13454426410239] },
    { id: 285, position: [-71.1490843229904, -0.9999999999999984, -86.88928127220296] },
    // {id: 286, position: [-74.90382133109097,-0.9999999999999984,-90.64401828030353]},
    { id: 287, position: [-78.65855833919153, -0.9999999999999984, -94.3987552884041] },
    { id: 288, position: [-82.4132953472921, -0.9999999999999986, -98.15349229650467] },
    { id: 289, position: [94.05934403343454, -0.999999999999998, 70.80967306802087] },
    { id: 290, position: [71.53092198483114, -0.999999999999998, 48.28125101941746] },
    { id: 291, position: [56.511973952428875, -0.999999999999998, 33.2623029870152] },
    { id: 292, position: [3.9456558390209375, -0.999999999999998, -19.304015126392745] },
    { id: 293, position: [-26.0922402257836, -0.999999999999998, -49.34191119119729] },
    { id: 294, position: [-41.11118825818586, -0.999999999999998, -64.36085922359955] },
    // { id: 295, position: [-56.13013629058814, -0.999999999999998, -79.37980725600183] },
    // { id: 296, position: [-78.65855833919154, -0.999999999999998, -101.90822930460523] },
    // { id: 297, position: [105.32355505773623, -0.9999999999999973, 74.56441007612143] },
    // { id: 298, position: [101.56881804963568, -0.9999999999999973, 70.80967306802087] },
    // { id: 299, position: [97.8140810415351, -0.9999999999999973, 67.05493605992031] },
    { id: 300, position: [75.28565899293172, -0.9999999999999972, 44.52651401131689] },
    { id: 301, position: [60.26671096052945, -0.9999999999999972, 29.50756597891463] },
    { id: 302, position: [22.71934087952377, -0.9999999999999973, -8.039804102091043] },
    { id: 303, position: [7.700392847121506, -0.9999999999999973, -23.05875213449331] },
    { id: 304, position: [-22.337503217683032, -0.9999999999999973, -53.09664819929785] },
    { id: 305, position: [-37.35645125008529, -0.9999999999999972, -68.11559623170012] },
    { id: 306, position: [-41.11118825818586, -0.9999999999999972, -71.87033323980069] },
    { id: 307, position: [-44.865925266286425, -0.9999999999999972, -75.62507024790125] },
    { id: 308, position: [-48.620662274387, -0.9999999999999972, -79.37980725600181] },
    { id: 309, position: [-52.375399282487564, -0.9999999999999972, -83.1345442641024] },
    { id: 310, position: [-74.90382133109097, -0.9999999999999973, -105.66296631270579] },
    { id: 311, position: [101.56881804963567, -0.9999999999999967, 63.300199051819746] },
    { id: 312, position: [79.04039600103226, -0.9999999999999967, 40.77177700321633] },
    { id: 313, position: [64.02144796863001, -0.9999999999999966, 25.75282897081407] },
    { id: 314, position: [26.474077887624336, -0.9999999999999966, -11.79454111019161] },
    { id: 315, position: [11.455129855222072, -0.9999999999999967, -26.81348914259388] },
    { id: 316, position: [-18.582766209582463, -0.9999999999999967, -56.85138520739842] },
    // {id: 317, position: [-33.60171424198473,-0.9999999999999966,-71.87033323980069]},
    { id: 318, position: [-71.1490843229904, -0.9999999999999966, -109.41770332080635] },
    { id: 319, position: [112.83302907393737, -0.999999999999996, 67.0549360599203] },
    { id: 320, position: [109.07829206583682, -0.999999999999996, 63.300199051819746] },
    { id: 321, position: [105.32355505773626, -0.999999999999996, 59.54546204371916] },
    { id: 322, position: [101.56881804963567, -0.9999999999999959, 55.79072503561862] },
    { id: 323, position: [97.8140810415351, -0.999999999999996, 52.035988027518044] },
    { id: 324, position: [82.79513300913285, -0.999999999999996, 37.017039995115766] },
    { id: 325, position: [79.04039600103226, -0.999999999999996, 33.2623029870152] },
    { id: 326, position: [75.2856589929317, -0.999999999999996, 29.50756597891463] },
    { id: 327, position: [71.53092198483114, -0.999999999999996, 25.752828970814058] },
    { id: 328, position: [67.77618497673058, -0.999999999999996, 21.9980919627135] },
    { id: 329, position: [30.228814895724906, -0.999999999999996, -15.549278118292175] },
    { id: 330, position: [26.47407788762434, -0.999999999999996, -19.30401512639274] },
    { id: 331, position: [22.71934087952377, -0.999999999999996, -23.05875213449331] },
    { id: 332, position: [18.964603871423208, -0.999999999999996, -26.81348914259388] },
    { id: 333, position: [15.20986686332264, -0.999999999999996, -30.568226150694443] },
    { id: 334, position: [11.45512985522207, -0.999999999999996, -34.32296315879501] },
    { id: 335, position: [7.700392847121506, -0.999999999999996, -38.07770016689558] },
    { id: 336, position: [3.9456558390209366, -0.999999999999996, -41.83243717499615] },
    // {id: 337, position: [0.19091883092037426,-0.999999999999996,-45.58717418309671]},
    { id: 338, position: [-3.5638181771802007, -0.999999999999996, -49.34191119119729] },
    { id: 339, position: [-7.318555185280765, -0.999999999999996, -53.096648199297846] },
    { id: 340, position: [-11.073292193381333, -0.999999999999996, -56.85138520739842] },
    { id: 341, position: [-14.828029201481897, -0.999999999999996, -60.606122215498985] },
    { id: 342, position: [-18.582766209582473, -0.999999999999996, -64.36085922359956] },
    { id: 343, position: [-22.33750321768303, -0.999999999999996, -68.11559623170011] },
    { id: 344, position: [-26.0922402257836, -0.9999999999999959, -71.8703332398007] },
    { id: 345, position: [-29.84697723388416, -0.9999999999999959, -75.62507024790125] },
    { id: 346, position: [-67.39434731488984, -0.999999999999996, -113.17244032890693] },
    { id: 347, position: [116.58776608203793, -0.9999999999999953, 63.30019905181974] },
    { id: 348, position: [101.56881804963568, -0.9999999999999953, 48.28125101941748] },
    { id: 349, position: [86.54987001723342, -0.9999999999999953, 33.262302987015204] },
    { id: 350, position: [71.53092198483114, -0.9999999999999952, 18.24335495461293] },
    { id: 351, position: [33.98355190382547, -0.9999999999999953, -19.304015126392745] },
    { id: 352, position: [18.964603871423208, -0.9999999999999953, -34.32296315879501] },
    { id: 353, position: [-3.5638181771801953, -0.9999999999999953, -56.851385207398415] },
    { id: 354, position: [-26.09224022578359, -0.9999999999999953, -79.37980725600183] },
    { id: 355, position: [-63.639610306789265, -0.9999999999999952, -116.92717733700749] },
    { id: 356, position: [120.3425030901385, -0.9999999999999947, 59.54546204371917] },
    { id: 357, position: [105.32355505773624, -0.9999999999999946, 44.52651401131692] },
    { id: 358, position: [101.56881804963567, -0.9999999999999946, 40.77177700321633] },
    { id: 359, position: [97.81408104153512, -0.9999999999999947, 37.01703999511577] },
    { id: 360, position: [94.05934403343454, -0.9999999999999946, 33.26230298701519] },
    { id: 361, position: [90.30460702533398, -0.9999999999999947, 29.50756597891464] },
    { id: 362, position: [75.2856589929317, -0.9999999999999947, 14.48861794651236] },
    { id: 363, position: [37.73828891192604, -0.9999999999999947, -23.058752134493314] },
    { id: 364, position: [22.719340879523777, -0.9999999999999947, -38.07770016689558] },
    { id: 365, position: [0.19091883092037426, -0.9999999999999946, -60.606122215498985] },
    { id: 366, position: [-22.33750321768302, -0.9999999999999947, -83.13454426410239] },
    { id: 367, position: [-37.35645125008529, -0.9999999999999947, -98.15349229650467] },
    { id: 368, position: [-41.11118825818586, -0.9999999999999947, -101.90822930460523] },
    { id: 369, position: [-44.865925266286425, -0.9999999999999947, -105.66296631270579] },
    { id: 370, position: [-48.620662274386994, -0.9999999999999946, -109.41770332080637] },
    { id: 371, position: [-52.375399282487564, -0.9999999999999947, -113.17244032890692] },
    { id: 372, position: [-56.13013629058813, -0.9999999999999947, -116.9271773370075] },
    { id: 373, position: [-59.88487329868871, -0.9999999999999947, -120.68191434510808] },
    { id: 374, position: [124.09724009823907, -0.999999999999994, 55.790725035618586] },
    { id: 375, position: [109.07829206583682, -0.9999999999999939, 40.77177700321635] },
    { id: 376, position: [94.05934403343456, -0.999999999999994, 25.752828970814065] },
    { id: 377, position: [79.04039600103228, -0.9999999999999939, 10.733880938411794] },
    { id: 378, position: [41.49302592002661, -0.999999999999994, -26.81348914259388] },
    { id: 379, position: [26.474077887624343, -0.999999999999994, -41.83243717499615] },
    { id: 380, position: [3.9456558390209437, -0.999999999999994, -64.36085922359955] },
    // {id: 381, position: [-18.582766209582456,-0.9999999999999939,-86.88928127220295]},
    { id: 382, position: [-33.60171424198473, -0.9999999999999939, -101.90822930460523] },
    { id: 383, position: [-56.130136290588126, -0.999999999999994, -124.43665135320863] },
    { id: 384, position: [127.85197710633963, -0.9999999999999933, 52.03598802751803] },
    { id: 385, position: [112.83302907393738, -0.9999999999999932, 37.01703999511577] },
    { id: 386, position: [97.81408104153512, -0.9999999999999933, 21.998091962713502] },
    { id: 387, position: [82.79513300913284, -0.9999999999999933, 6.979143930311224] },
    { id: 388, position: [79.04039600103228, -0.9999999999999933, 3.2244069222106617] },
    { id: 389, position: [75.28565899293172, -0.9999999999999933, -0.5303300858899114] },
    { id: 390, position: [71.53092198483115, -0.9999999999999933, -4.285067093990481] },
    { id: 391, position: [67.77618497673058, -0.9999999999999933, -8.039804102091043] },
    { id: 392, position: [64.02144796863, -0.9999999999999933, -11.794541110191608] },
    { id: 393, position: [60.26671096052944, -0.9999999999999934, -15.549278118292177] },
    { id: 394, position: [56.511973952428875, -0.9999999999999934, -19.30401512639274] },
    { id: 395, position: [52.757236944328305, -0.9999999999999933, -23.058752134493307] },
    { id: 396, position: [49.00249993622774, -0.9999999999999933, -26.813489142593877] },
    { id: 397, position: [45.24776292812717, -0.9999999999999933, -30.568226150694446] },
    // {id: 398, position: [30.22881489572491,-0.9999999999999933,-45.587174183096714]},
    { id: 399, position: [26.47407788762434, -0.9999999999999933, -49.341911191197276] },
    { id: 400, position: [22.71934087952377, -0.9999999999999932, -53.096648199297846] },
    { id: 401, position: [18.964603871423208, -0.9999999999999933, -56.851385207398415] },
    { id: 402, position: [15.209866863322645, -0.9999999999999933, -60.60612221549898] },
    { id: 403, position: [11.455129855222065, -0.9999999999999933, -64.36085922359956] },
    { id: 404, position: [7.700392847121503, -0.9999999999999933, -68.11559623170011] },
    { id: 405, position: [3.9456558390209366, -0.9999999999999933, -71.8703332398007] },
    { id: 406, position: [0.1909188309203707, -0.9999999999999933, -75.62507024790125] },
    { id: 407, position: [-3.5638181771802024, -0.9999999999999933, -79.37980725600184] },
    { id: 408, position: [-7.318555185280765, -0.9999999999999934, -83.13454426410239] },
    { id: 409, position: [-11.073292193381324, -0.9999999999999933, -86.88928127220295] },
    // {id: 410, position: [-14.82802920148189,-0.9999999999999933,-90.64401828030353]},
    { id: 411, position: [-18.582766209582456, -0.9999999999999933, -94.39875528840409] },
    { id: 412, position: [-22.337503217683015, -0.9999999999999933, -98.15349229650464] },
    { id: 413, position: [-26.09224022578359, -0.9999999999999933, -101.90822930460521] },
    { id: 414, position: [-29.846977233884164, -0.9999999999999934, -105.66296631270579] },
    { id: 415, position: [-52.37539928248758, -0.9999999999999933, -128.1913883613092] },
    { id: 416, position: [131.6067141144402, -0.9999999999999928, 48.28125101941746] },
    { id: 417, position: [116.58776608203794, -0.9999999999999928, 33.26230298701521] },
    { id: 418, position: [101.56881804963567, -0.9999999999999928, 18.24335495461294] },
    { id: 419, position: [86.5498700172334, -0.9999999999999927, 3.2244069222106617] },
    { id: 420, position: [71.53092198483114, -0.9999999999999929, -11.794541110191606] },
    { id: 421, position: [49.00249993622774, -0.9999999999999928, -34.32296315879501] },
    { id: 422, position: [33.98355190382547, -0.9999999999999928, -49.34191119119728] },
    { id: 423, position: [-3.5638181771801953, -0.9999999999999928, -86.88928127220296] },
    { id: 424, position: [-26.09224022578359, -0.9999999999999928, -109.41770332080637] },
    { id: 425, position: [-48.620662274387, -0.9999999999999927, -131.94612536940977] },
    { id: 426, position: [135.36145112254079, -0.999999999999992, 44.5265140113169] },
    { id: 427, position: [131.60671411444025, -0.9999999999999922, 40.771777003216336] },
    { id: 428, position: [127.85197710633966, -0.9999999999999922, 37.01703999511577] },
    { id: 429, position: [124.0972400982391, -0.999999999999992, 33.26230298701521] },
    { id: 430, position: [120.34250309013852, -0.999999999999992, 29.50756597891464] },
    { id: 431, position: [116.58776608203794, -0.999999999999992, 25.752828970814065] },
    { id: 432, position: [112.83302907393738, -0.9999999999999921, 21.998091962713502] },
    { id: 433, position: [109.07829206583682, -0.9999999999999921, 18.243354954612933] },
    { id: 434, position: [105.32355505773626, -0.9999999999999921, 14.48861794651237] },
    { id: 435, position: [90.304607025334, -0.9999999999999921, -0.5303300858899078] },
    { id: 436, position: [75.28565899293172, -0.9999999999999921, -15.549278118292174] },
    { id: 437, position: [52.75723694432831, -0.999999999999992, -38.07770016689558] },
    { id: 438, position: [49.00249993622774, -0.999999999999992, -41.832437174996144] },
    { id: 439, position: [45.24776292812718, -0.9999999999999921, -45.587174183096714] },
    { id: 440, position: [41.49302592002661, -0.9999999999999922, -49.34191119119728] },
    { id: 441, position: [37.73828891192605, -0.9999999999999921, -53.096648199297846] },
    { id: 442, position: [0.19091883092037426, -0.9999999999999921, -90.64401828030353] },
    { id: 443, position: [-22.337503217683025, -0.9999999999999921, -113.17244032890693] },
    { id: 444, position: [-44.86592526628643, -0.9999999999999921, -135.70086237751036] },
    { id: 445, position: [139.11618813064132, -0.9999999999999916, 40.771777003216336] },
    { id: 446, position: [109.0782920658368, -0.9999999999999915, 10.733880938411808] },
    { id: 447, position: [94.05934403343453, -0.9999999999999916, -4.28506709399046] },
    { id: 448, position: [79.04039600103228, -0.9999999999999916, -19.304015126392734] },
    { id: 449, position: [41.493025920026604, -0.9999999999999916, -56.85138520739841] },
    { id: 450, position: [3.9456558390209295, -0.9999999999999916, -94.39875528840409] },
    { id: 451, position: [-18.582766209582466, -0.9999999999999916, -116.92717733700749] },
    { id: 452, position: [-41.11118825818588, -0.9999999999999916, -139.4555993856109] },
    { id: 453, position: [142.8709251387419, -0.9999999999999909, 37.01703999511577] },
    { id: 454, position: [112.83302907393738, -0.9999999999999909, 6.979143930311238] },
    { id: 455, position: [109.07829206583682, -0.9999999999999909, 3.224406922210669] },
    { id: 456, position: [105.32355505773624, -0.9999999999999909, -0.5303300858899007] },
    { id: 457, position: [101.56881804963567, -0.9999999999999909, -4.285067093990477] },
    { id: 458, position: [97.8140810415351, -0.9999999999999908, -8.039804102091033] },
    { id: 459, position: [94.05934403343454, -0.9999999999999908, -11.794541110191606] },
    { id: 460, position: [90.30460702533398, -0.9999999999999908, -15.549278118292172] },
    { id: 461, position: [86.54987001723342, -0.9999999999999908, -19.304015126392745] },
    { id: 462, position: [82.79513300913285, -0.9999999999999908, -23.058752134493304] },
    { id: 463, position: [45.24776292812717, -0.9999999999999909, -60.606122215498985] },
    { id: 464, position: [7.700392847121513, -0.9999999999999909, -98.15349229650467] },
    { id: 465, position: [3.945655839020951, -0.9999999999999908, -101.90822930460523] },
    { id: 466, position: [0.19091883092038137, -0.9999999999999908, -105.66296631270578] },
    { id: 467, position: [-3.5638181771801882, -0.9999999999999908, -109.41770332080634] },
    { id: 468, position: [-7.318555185280744, -0.9999999999999908, -113.17244032890692] },
    { id: 469, position: [-11.073292193381324, -0.9999999999999908, -116.92717733700749] },
    { id: 470, position: [-14.828029201481897, -0.9999999999999908, -120.68191434510805] },
    { id: 471, position: [-18.58276620958246, -0.9999999999999908, -124.43665135320862] },
    { id: 472, position: [-22.337503217683025, -0.9999999999999909, -128.19138836130918] },
    { id: 473, position: [-26.092240225783595, -0.9999999999999908, -131.94612536940977] },
    { id: 474, position: [-29.84697723388416, -0.9999999999999908, -135.70086237751033] },
    { id: 475, position: [-33.60171424198473, -0.9999999999999908, -139.4555993856109] },
    { id: 476, position: [-37.3564512500853, -0.9999999999999908, -143.2103363937115] },
    { id: 477, position: [-26.092240225783605, -1.000000000000009, 78.319147084222] },
    { id: 478, position: [49.002499936227736, -1.0000000000000064, 123.3759911814288] },
    { id: 480, position: [41.4930259200266, -1.0000000000000056, 108.35704314902655] },
    { id: 481, position: [-89.92276936349323, -1.000000000000005, -30.568226150694446] },
    { id: 482, position: [22.719340879523774, -1.0000000000000038, 67.05493605992031] },
    { id: 483, position: [82.79513300913283, -1.0000000000000013, 97.09283212472484] },
    { id: 484, position: [-29.846977233884168, -1, -30.568226150694453] },
    { id: 485, position: [-63.63961030678927, -0.9999999999999993, -71.8703332398007] },
    // {id: 486,  position: [94.05934403343454,-0.9999999999999986,78.31914708422201] }
  ];


  useEffect(() => {
    setBiryaniPositions(
      [
        { id: 1, position: [94.05934403343454, 0.9999999999999986, 78.31914708422201] },
        { id: 2, position: [30.22881489572491, 0.9999999999999933, -45.587174183096714] },
        { id: 3, position: [0.19091883092037426, 0.999999999999996, -45.58717418309671] },
        { id: 4, position: [-33.60171424198473, 0.9999999999999966, -71.87033323980069] },
        { id: 5, position: [11.455129855222062, 1.0000000000000044, 63.30019905181973] }]);

    setBottlePositions([
      { id: 1, position: [-121, -0.9999999999999916, -46] },
      { id: 2, position: [-18.582766209582456, -0.9999999999999939, -86.88928127220295] },
      { id: 3, position: [-74.90382133109097, -0.9999999999999984, -90.64401828030353] },
      { id: 4, position: [22, -1.0000000000000038, 126] },
      { id: 5, position: [-59.88487329868871, -1.000000000000009, 44.526514011316884] }
      ,]);

    setComboPositions([
      { id: 1, position: [-33.60171424198474, -0.9999999999999992, -41.83243717499616] },
      { id: 2, position: [-108.69645440399609, -1.000000000000003, -71.87033323980069] },]);

    setDrinkComboPositions([
      { id: 1, position: [-56.13013629058814, -1.0000000000000004, -49.34191119119728] },
      { id: 2, position: [-14.82802920148189, -0.9999999999999933, -90.64401828030353] },]);

    setCapsPositions(capsPositions);
    setConstantCapsPositions(capsPositions);
  }, [])

  // console.log('component re rendered');
  const map = [
    { name: "forward", keys: ["ArrowUp", "w", "W"] },
    { name: "backward", keys: ["ArrowDown", "s", "S"] },
    { name: "left", keys: ["ArrowLeft", "a", "A"] },
    { name: "right", keys: ["ArrowRight", "d", "D"] },
    { name: "jump", keys: ["Space"] },
    { name: "fasten", keys: ["Shift"] },
    { name: "shoot", keys: ["F", "f"] },
  ];

  return (
    <Canvas
      // dpr={1}
      // dpr={1}
      dpr={isBrowser ? 1 : 1}

      gl={{ antialias: false }}

      // dpr={[0.5,2]}
      // dpr={0.5}
      className='scene-canvas'
      frameloop={pause ? 'never' : 'always'}
      style={{
        position: isBrowser ? "fixed" : "absolute",
        height: "100vh",
        width: "100vw",
        zIndex: "2",
        top: "50%",
        left: "50%",
        transform: "translate(-50%, -50%)",
        // backgroundImage: "url('src/assets/bgimage.png')",
        // backgroundSize: "cover",
        // backgroundPosition: "center",
      }}
    // key={isIsometric} // this will force re-render whenever isIsometric changes
    // {...(!isIsometric && {
    //   orthographic: true,
    //   camera: { position: [2, 5, 7], zoom: 8, far: 10000, near: -10000 }
    // })}
    >
      <KeyboardControls map={map}>









        {/* <BudhaEnemy scale={0.1} /> */}
        {/* <CartoonEnemy /> */}
        {/* <Bike scale={3}  position={[29,-3,44]} rotation={[0,Math.PI/2,0]}/>*/}
        {/* <Car scale={0.017} position={[-3, -4, 3]} rotation={[0, Math.PI / 4, 0]} /> */}
        {/* 44,-1,86 */}

        {/* <Environment
          files="https://dl.polyhaven.org/file/ph-assets/HDRIs/hdr/2k/evening_road_01_2k.hdr" // Replace with your HDRI image path
          background // Ensures HDRI acts as a background
        /> */}

        {/* <OrbitControls enablePan={false}
        // zoomSpeed={0.5} minZoom={10} maxZoom={30}
        // enableRotate={false}
        /> */}

        <CameraController />
        {/* <Perf position="bottom-right"
        // minimal="true"
        /> */}
        {/* <axesHelper args={[50]} /> */}
        {/* <ambientLight intensity={5} color="#747BA5" /> */}

        {/* <Environment preset="sunset" /> */}
        {/* <Environment
          preset="sunset"
          background // Sets the background to the environment
          intensity={0} // Disables lighting from the environment
        /> */}
        <GameOver />
        <hemisphereLight
          position={[0, 100, 0]}
          args={["#DBDDFA", '#436D72', 2.5]}
        />

        {/* <ambientLight intensity={1} /> */}
        {/* <directionalLight position={[-1000, 1000, -100]} intensity={1} color={"#F8F7F5"} /> */}
        <Sky
          distance={450000} // Camera distance
          sunPosition={[25, 5, 10]} // X, Y, Z position for the sun
          turbidity={10} // Cloudiness
          rayleigh={3} // Atmospheric scattering
          inclination={0.49} // Sun elevation
          azimuth={0.25} // Sun horizontal orientation        
        />

        <Physics
          gravity={[0, -20, 0]}
        >
          {/* <Debug /> */}
          {/* <Hurdles /> */}
          <CollectiblesRenderer scale={0.85} />

          {/* <Level3 
    // displayBlockers={true}
    /> */}

          {/* <Map
          // displayBlockers={true}
          /> */}

          <CuboidCollider args={[300, 1, 300]} position={[0, 7, 0]} />
          <CuboidCollider args={[300, 1, 300]} position={[0, -4, 0]} />
          <CuboidCollider args={[300, 1, 300]} position={[0, -10, 0]} />
          <Map2 />

          {/* <FireVFX scale={100} position={[40,3,33]} /> */}
          <Player
            position={[98, 2, 66]}//map4
          // position={[116, 2, 86]}//map4
          />
          {/* <PlayerRerender /> */}
          <PowerUp />
          <PlayerCharacter />
          <PlayerRaycast
          // display={true}
          />

          {/* old map */}

          {/* <Enemy id={1} position={[5, -7, 3]} car={true} zMove={true} />
          <Enemy id={2} position={[-13, -7, 52]} car={true} zMove={true} />
          <Enemy id={3} position={[9, -7, 48]} motu={true} xMove={true} />
          <Enemy id={5} position={[-62, -7, 15]} motu={true} xMove={true} />
          <Enemy id={6} position={[-71, -7, -11]} car={true} zMove={true} />
          <Enemy id={7} position={[9, -7, -13]} knifeGoon={true} zMove={true} />
          <Enemy id={8} position={[-34, -7, -8]} knifeGoon={true} zMove={true} /> */}

          {/* new map */}

          {/* non chasable enemies */}

          {/* <Enemy id={1} position={[-39, -7, -66]} car={true} zMove={true} speed={13} />
          <Enemy id={2} position={[-6, -7, -7]} car={true} zMove={true} speed={13} />
          <Enemy id={3} position={[-118, -7, -15]} truck={true} xMove={true} speed={13} />
          <Enemy id={3} position={[-118, -7, -15]} car={true} xMove={true} speed={13} />
          <Enemy id={4} position={[-15, -7, 29]} car={true} xMove={true} speed={13} />
          <Enemy id={5} position={[52, -7, 96]} car={true} zMove={true} speed={13} /> */}

          {/* chasable enemies  */}



          <NavmeshEnemy key="1" position={[-17.5, -4, 3.5]} car={true} speed={18} />
          <NavmeshEnemy key="2" position={[30.2, -4, -45.58]} car={true} speed={18} />
          <NavmeshEnemy key="3" position={[-86.168, -4, -71.87]} car={true} speed={18} />
          <NavmeshEnemy key="4" position={[-26.0922, -4, -79.37]} car={true} speed={18} />
          <NavmeshEnemy key="5" position={[109.08, -4, 10.73]} car={true} speed={18} />

          <NavmeshEnemy key="6" position={[-39, -4, -66]} car={true} zMove={true} speed={18} />
          <NavmeshEnemy key="7" position={[-6, -4, -7]} car={true} zMove={true} speed={18} />
          <NavmeshEnemy key="8" position={[-118, -4, -15]} car={true} xMove={true} speed={18} />
          <NavmeshEnemy key="9" position={[-15, -4, 29]} car={true} xMove={true} speed={18} />
          <NavmeshEnemy key="10" position={[52, -4, 96]} car={true} zMove={true} speed={18} />


        </Physics>
        <CollectibleSpriteWrapper />
        <ControlAudio />
      </KeyboardControls>
      <AdaptiveDpr pixelated />
      <Preload all />
    </Canvas>
  )
}

function StartButton() {
  const { pause, setPause } = useContext(PauseContext);
  const [show, setShow] = useState(true);

  return (
    <>
      {show && (
        <div
          style={{
            maxWidth: '500px',
            position: "relative",
            zIndex: "999999",
            height: "100vh",
            width: "100vw",
            backdropFilter: "blur(10px)",
          }}
        >
          <div
            style={{
              position: "absolute",
              bottom: "10%",
              left: "50%",
              transform: "translate(-50%, -50%)",
            }}
          >
            <button
              style={{
                border: "1px solid black",
                width: "250px",
                background: "#142A75",
                color: "white",
                padding: "10px",
                borderRadius: "5px",
                fontSize: "1.5rem",
              }}
              onClick={() => { setPause(false); setShow(false) }}
            >
              Start
            </button>
          </div>
        </div >
      )
      }
    </>
  );
}

function Game5() {

    const [showMobileUi, setShowMobileUi] = useState(false);
  
    const handleShowComponentChange = (showComponentState) => {
      if (!showComponentState) {
        setShowMobileUi(true);
      }
    };

  // // console.log('component re rendered');
  // const map = [
  //   { name: "forward", keys: ["ArrowUp", "w", "W"] },
  //   { name: "backward", keys: ["ArrowDown", "s", "S"] },
  //   { name: "left", keys: ["ArrowLeft", "a", "A"] },
  //   { name: "right", keys: ["ArrowRight", "d", "D"] },
  //   { name: "jump", keys: ["Space"] },
  //   { name: "fasten", keys: ["Shift"] },
  //   { name: "shoot", keys: ["F", "f"] },
  // ];

  return (
    <>
      <AppProviders>
        <Suspense fallback={
          <HGPageBeforeStartButton />
          // <div className="d-flex justify-content-center align-items-center vh-100">
          //   <div className="text-center text-white">LOADING...</div>
          // </div>
        }>
          <PlayerCoordinates
          // display={true}
          />
          {/* {isMobile && <MobileUi />} */}
          {isMobile && showMobileUi && <MobileUi />}

          {/* {isMobile && <ButtonMobileUi />} */}
          {/* <StartButton /> */}
          <HomeGamePage onShowComponentChange={handleShowComponentChange} />

          <AppUi />

          <Canvass />

          <Canvas style={{
            position: "absolute",
            height: "100vh",
            width: "100vw",
            zIndex: "2",
            top: "50%",
            left: "50%",
            transform: "translate(-50%, -50%)",
            background: 'transparent'
          }} >
            {/* <CameraController /> */}
            <DieSprite />

          </Canvas>
          {/* <MiniMap /> */}
          {/* <Canvas style={{ position: 'absolute', height: '100vh', width: '100vw', zIndex: '1' }} >
                <Environment
                  files="https://dl.polyhaven.org/file/ph-assets/HDRIs/hdr/2k/evening_road_01_2k.hdr" // Replace with your HDRI image path
                  background // Ensures HDRI acts as a background
                  blur={0.5}
                />
                <OrbitControls enablePan={false} enableZoom={false} />
              </Canvas> */}
          <GameAudio />
        </Suspense>
      </AppProviders>
    </>
  );
}

export default Game5;





















